<!DOCTYPE html>
<html
	lang="en"
	class="bg-slate-200 dark:bg-slate-900 text-slate-900 dark:text-slate-100"
>
	<head>
		<meta charset="UTF-8" />
		<meta
			http-equiv="X-UA-Compatible"
			content="IE=edge"
		/>
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0"
		/>
		<title>Liberate the Hostname</title>
		<meta
			name="description"
			content="Is your domain displaying old content from a previous provider? Use Liberate the Hostname to free your domain today! 3 easy, fast and automated steps."
		/>
		<meta
			property="og:title"
			content="Liberate the Hostname"
		/>
		<meta
			property="og:description"
			content="Is your domain displaying old content from a previous provider? Use Liberate the Hostname to free your domain today! 3 easy, fast and automated steps."
		/>
		<meta
			property="og:url"
			content="https://ssl-for-saas.cf/"
		/>
		<meta
			property="og:type"
			content="website"
		/>
		<meta
			property="og:site_name"
			content="Liberate the Hostname"
		/>
		<meta
			name="twitter:card"
			content="summary"
		/>
		<meta
			name="twitter:creator"
			content="@AlbertSPedersen"
		/>
		<meta
			name="twitter:title"
			content="Liberate the Hostname"
		/>
		<meta
			name="twitter:description"
			content="Is your domain displaying old content from a previous provider? Use Liberate the Hostname to free your domain today! 3 easy, fast and automated steps."
		/>
		<link
			rel="stylesheet"
			href="./index.css"
		/>
	</head>

	<body>
		<div class="mx-auto max-w-7xl sm:px-6 lg:px-8">
			<div class="flex flex-col max-w-3xl mx-auto my-4 space-y-4">
				<div class="p-4 rounded-md bg-green-50">
					<div class="flex">
						<div class="flex-shrink-0">
							<svg
								class="w-5 h-5 text-green-400"
								xmlns="http://www.w3.org/2000/svg"
								viewBox="0 0 20 20"
								fill="currentColor"
								aria-hidden="true"
							>
								<path
									fill-rule="evenodd"
									d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z"
									clip-rule="evenodd"
								/>
							</svg>
						</div>
						<div class="ml-3">
							<h3 class="text-sm font-medium text-green-800">Tool Deprecated</h3>
							<div class="mt-2 space-y-2 text-sm text-green-700">
								<p>
									Cloudflare has <em>finally</em> deployed a fix for this issue. ðŸŽ‰ This tool <em>should</em> no longer
									be needed.<br />It will remain functional and active <em>just in case</em>.
								</p>
								<p>
									We are happy to have brought <strong>over 1500</strong> hostnames to freedom, saving Cloudflare an
									estimated 250 hours of support time and keeping frustrated customers from pulling their hair out.
								</p>
								<p>
									This tool's GitHub repo is
									<a
										href="https://github.com/AlbertSPedersen/liberate-the-hostname"
										target="_blank"
										class="font-medium text-green-700 underline hover:text-green-600"
										>here</a
									>. If you want to follow us, our links are:
								</p>
							</div>
							<div class="mt-4">
								<div class="-mx-2 -my-1.5 flex">
									<a
										href="https://twitter.com/AlbertSPedersen"
										target="_blank"
										class="rounded-md bg-green-50 px-2 py-1.5 text-sm font-medium text-green-800 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 focus:ring-offset-green-50"
									>
										Albert &rarr;
									</a>
									<a
										href="https://twitter.com/itsmatteomanf"
										target="_blank"
										class="ml-3 rounded-md bg-green-50 px-2 py-1.5 text-sm font-medium text-green-800 hover:bg-green-100 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 focus:ring-offset-green-50"
									>
										Matteo &rarr;
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="overflow-hidden bg-white shadow dark:bg-slate-700 sm:rounded-lg">
					<div class="px-4 py-5 sm:px-6">
						<h1 class="text-lg font-semibold">Liberate the Hostname. In 3 easy steps.</h1>
						<div class="mt-4">
							<ul class="space-y-3">
								<li class="flex items-center">
									<svg
										class="flex-none w-6 h-6 stroke-2 fill-orange-100 stroke-orange-500 dark:fill-orange-900"
										stroke-linecap="round"
										stroke-linejoin="round"
									>
										<circle
											cx="12"
											cy="12"
											r="11"
										/>
										<path
											d="m8 13 2.165 2.165a1 1 0 0 0 1.521-.126L16 9"
											fill="none"
										/>
									</svg>
									<p class="ml-4">Submit the hostname that is being held captive.</p>
								</li>
								<li class="flex items-center">
									<svg
										class="flex-none w-6 h-6 stroke-2 fill-orange-100 stroke-orange-500 dark:fill-orange-900"
										stroke-linecap="round"
										stroke-linejoin="round"
									>
										<circle
											cx="12"
											cy="12"
											r="11"
										/>
										<path
											d="m8 13 2.165 2.165a1 1 0 0 0 1.521-.126L16 9"
											fill="none"
										/>
									</svg>
									<p class="ml-4">
										Verify the hostname by adding a couple of DNS records to your zone. Once the hostname has been
										verified, it will automatically be liberated after a couple of minutes.
									</p>
								</li>
								<li class="flex items-center">
									<svg
										class="flex-none w-6 h-6 stroke-2 fill-orange-100 stroke-orange-500 dark:fill-orange-900"
										stroke-linecap="round"
										stroke-linejoin="round"
									>
										<circle
											cx="12"
											cy="12"
											r="11"
										/>
										<path
											d="m8 13 2.165 2.165a1 1 0 0 0 1.521-.126L16 9"
											fill="none"
										/>
									</svg>
									<p class="ml-4">
										Once the hostname has been liberated (you can check the status below), delete the DNS records you
										added for verification and point the hostname to your new provider.
									</p>
								</li>
							</ul>
							<br />
							<p>
								<strong>Note:</strong> You may have to repeat the liberation process for both the apex domain and www
								sub-domain. E.g. example.com and www.example.com.
							</p>
						</div>
					</div>
					<div class="px-4 py-5 bg-slate-50 dark:bg-slate-800 sm:p-6">
						<form id="submit">
							<label
								for="submit-hostname"
								class="block text-sm font-medium text-slate-700 dark:text-slate-300"
								>Hostname</label
							>
							<div class="flex mt-1 rounded-md shadow-sm">
								<div class="relative flex items-stretch flex-grow focus-within:z-10">
									<input
										type="text"
										name="text"
										id="submit-hostname"
										class="block w-full placeholder-orange-700 bg-white border-orange-300 rounded-none dark:placeholder-orange-100 dark:bg-slate-700 dark:border-transparent focus:ring-orange-500 focus:border-orange-500 rounded-l-md sm:text-sm"
										placeholder="example.com"
									/>
								</div>
								<button
									type="submit"
									class="relative inline-flex items-center px-4 py-2 -ml-px space-x-2 text-sm font-medium text-orange-900 border border-orange-300 dark:text-orange-100 dark:border-transparent rounded-r-md bg-orange-50 dark:bg-orange-900 hover:bg-orange-100 dark:hover:bg-orange-800 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"
								>
									<span>Submit</span>
								</button>
							</div>
						</form>
					</div>
				</div>
				<div
					id="dns-section"
					class="hidden overflow-hidden bg-white shadow dark:bg-slate-700 sm:rounded-lg"
				>
					<div class="px-4 py-5 sm:px-6">
						<h2 class="font-semibold">Add these DNS records.</h2>
					</div>
					<div class="px-4 py-5 bg-slate-50 dark:bg-slate-800 sm:p-6">
						<p>
							Type
							<code
								class="p-1 text-sm font-bold text-orange-900 bg-orange-100 rounded-sm dark:bg-orange-900 dark:text-orange-100"
								>CNAME</code
							>, name
							<code
								class="p-1 text-sm font-bold text-orange-900 bg-orange-100 rounded-sm dark:bg-orange-900 dark:text-orange-100"
								id="cname-name"
							></code
							>, value
							<code
								class="p-1 text-sm font-bold text-orange-900 bg-orange-100 rounded-sm dark:bg-orange-900 dark:text-orange-100"
								>fallback.ssl-for-saas.cf</code
							>.
						</p>
						<p>
							Type
							<code
								class="p-1 text-sm font-bold text-orange-900 bg-orange-100 rounded-sm dark:bg-orange-900 dark:text-orange-100"
								>TXT</code
							>, name
							<code
								class="p-1 text-sm font-bold text-orange-900 bg-orange-100 rounded-sm dark:bg-orange-900 dark:text-orange-100"
								id="txt-name"
							></code
							>, value
							<code
								class="p-1 text-sm font-bold text-orange-900 bg-orange-100 rounded-sm dark:bg-orange-900 dark:text-orange-100"
								id="txt-value"
							></code
							>.
						</p>
					</div>
				</div>
				<div class="overflow-hidden bg-white shadow dark:bg-slate-700 sm:rounded-lg">
					<div class="px-4 py-5 sm:px-6">
						<h2 class="font-semibold">Check the Hostname.</h2>
						<p>
							Wait for the Custom Hostname verification to complete. If you created the DNS records within the first few
							minutes, verification should complete almost immediately. You can check the status here. Please wait up to
							5 minutes after the status says "liberated".
						</p>
						<br />
						<ul>
							<li>
								<strong>Pending:</strong> The hostname has not yet been verified. Please add the required DNS records
								and wait patiently.
							</li>
							<li>
								<strong>Active:</strong> The hostname has been verified and will be liberated automatically. The
								hostname should only be in this state for a few minutes.
							</li>
							<li>
								<strong>Liberated:</strong> The hostname has been successfully liberated. You can now point the hostname
								at your new provider.
							</li>
						</ul>
					</div>
					<div class="px-4 py-5 bg-slate-50 dark:bg-slate-800 sm:p-6">
						<form id="check">
							<label
								for="check-hostname"
								class="block text-sm font-medium text-slate-700 dark:text-slate-300"
								>Hostname</label
							>
							<div class="flex mt-1 rounded-md shadow-sm">
								<div class="relative flex items-stretch flex-grow focus-within:z-10">
									<input
										type="text"
										name="text"
										id="check-hostname"
										class="block w-full placeholder-orange-700 bg-white border-orange-300 rounded-none dark:placeholder-orange-100 dark:bg-slate-700 dark:border-transparent focus:ring-orange-500 focus:border-orange-500 rounded-l-md sm:text-sm"
										placeholder="example.com"
									/>
								</div>
								<button
									type="submit"
									class="relative inline-flex items-center px-4 py-2 -ml-px space-x-2 text-sm font-medium text-orange-900 border border-orange-300 dark:text-orange-100 dark:border-transparent rounded-r-md bg-orange-50 dark:bg-orange-900 hover:bg-orange-100 dark:hover:bg-orange-800 focus:outline-none focus:ring-1 focus:ring-orange-500 focus:border-orange-500"
								>
									<span>Check</span>
								</button>
							</div>
						</form>
						<p
							class="hidden mt-2"
							id="status"
						></p>
					</div>
				</div>
			</div>
		</div>
		<script type="text/javascript">
			document.getElementById('submit').addEventListener('submit', async (e) => {
				e.preventDefault();
				document.getElementById('dns-section').classList.add('hidden');
				const hostname = document.getElementById('submit-hostname').value;
				const response = await fetch('/api/v1/submit', {
					body: hostname,
					method: 'POST',
				});
				const result = await response.json();
				document.getElementById('cname-name').textContent = result.hostname;
				document.getElementById('txt-name').textContent = result.ownership_verification.name;
				document.getElementById('txt-value').textContent = result.ownership_verification.value;
				document.getElementById('dns-section').classList.remove('hidden');
			});
			document.getElementById('check').addEventListener('submit', async (e) => {
				e.preventDefault();
				document.getElementById('status').classList.add('hidden');
				const hostname = document.getElementById('check-hostname').value;
				const response = await fetch('/api/v1/check', {
					body: hostname,
					method: 'POST',
				});
				document.getElementById('status').textContent = await response.text();
				document.getElementById('status').classList.remove('hidden');
			});
		</script>
	</body>
</html>
